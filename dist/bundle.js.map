{"version":3,"sources":["webpack:///webpack/bootstrap 50403c986e8769af1e7d","webpack:///./src/index.ts","webpack:///./src/utils.ts","webpack:///./src/speechtotext.ts","webpack:///./src/event.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA,uCAAkE;AAClE,8CAA8C;AAM9C,OAAO;AACP,0EAA0E;AAE1E,IAAI,QAA2B,CAAC;AAChC,IAAI,OAA0B,CAAC;AAC/B,IAAI,SAA2B,CAAC;AAChC,IAAI,QAA0B,CAAC;AAC/B,IAAI,eAAyB,CAAC;AAC9B,IAAI,kBAA+B,CAAC;AACpC,IAAI,YAAY,GAAG,CAAC,CAAC;AACrB,IAAI,eAAe,GAAG,KAAK,CAAC;AAC5B,IAAI,gBAAgB,GAAG,CAAC,CAAC;AACzB,IAAI,gBAAiC,CAAC;AACtC,IAAI,SAAe,CAAC;AACpB,IAAI,OAAa,CAAC;AAElB,MAAM,aAAa,GAAG;IACrB,kBAAmB,CAAC,SAAS,GAAG,eAAe,CAAC,YAAY,CAAC,CAAC;AAC/D,CAAC;AAGD,2BAA2B;AAC3B,MAAM,iBAAiB,GAAG,CAAC,UAAkB;IAC5C,yDAAyD;IACzD,SAAU,CAAC,SAAS,GAAG,oBAAY,CAAC,iBAAS,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACtE,CAAC,CAAC;AAEF,MAAM,cAAc,GAAG;IACtB,UAAU,CAAC;QACV,SAAU,CAAC,SAAS,GAAG,EAAE,CAAC;IAC3B,CAAC,EAAE,GAAG,CAAC,CAAC;AACT,CAAC,CAAC;AAGF,MAAM,YAAY,GAAG,CAAC,gBAA8B;IACnD,sBAAsB;IACtB,gBAAgB,CAAC,IAAI,EAAE,CAAC;IACxB,MAAM,WAAW,GAAG,eAAe,CAAC,YAAY,CAAC,CAAC;IAClD,MAAM,UAAU,GAAG,SAAS,CAAC,SAAS,CAAC;IACvC,MAAM,CAAC,GAAG,IAAI,WAAW,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;IACnD,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;IAErB,MAAM,SAAS,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,SAAS,CAAC,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC;IAEnE,OAAO,CAAC,GAAG,CAAC;QACX,WAAW;QACX,UAAU;QACV,QAAQ,EAAE,CAAC,CAAC,QAAQ;QACpB,SAAS,EAAE,SAAS,GAAG,SAAS;KAChC,CAAC,CAAC;IAEH,YAAY;IACZ,cAAc,EAAE,CAAC;IACjB,YAAY,IAAI,CAAC,CAAC;IAClB,aAAa,EAAE,CAAC;AACjB,CAAC,CAAC;AAEF,MAAM,cAAc,GAAG;IACtB,CAAC,CAAC,mBAAmB,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAChD,CAAC;AACD,MAAM,cAAc,GAAG;IACtB,CAAC,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;AAClC,CAAC;AAID,MAAM,UAAU,GAAG,CAAC,gBAA8B;IACjD,QAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,GAAe;QACnD,SAAS,GAAG,IAAI,IAAI,EAAE;QACtB,gBAAgB,CAAC,KAAK,EAAE,CAAC;IAC1B,CAAC,CAAC,CAAC;IAEH,OAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,GAAe;QAClD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACxC,eAAe,GAAG,IAAI,CAAC;QACvB,gBAAgB,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,QAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,GAAe;QACnD,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAC3C,YAAY,CAAC,gBAAgB,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC;QACjB,QAAQ,EAAE,mBAAmB;QAC7B,OAAO,EAAE,OAAO;QAChB,IAAI,EAAE,IAAI;QACV,SAAS,EAAE,QAAQ;QACnB,MAAM,EAAE,IAAI;QACZ,OAAO;YACN,MAAM,CAAC;;;WAGC,CAAC;QACV,CAAC;KACD,CAAC,CAAC;IAEH,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,mBAAmB,EAAE,CAAC,GAAe;QACjE,UAAU,CAAC;YACV,cAAc,EAAE,CAAC;YACjB,cAAc,EAAE,CAAC;YACjB,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC1C,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC;QAC9B,CAAC,EAAE,IAAI,CAAC,CAAC;IACV,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,aAAa,GAAG,CAAC,UAAoB;IAC1C,gBAAgB;IAChB,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;IACnE,OAAO,GAAsB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;IACjE,SAAS,GAAsB,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IACjE,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IAChE,kBAAkB,GAAgB,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;IACjF,eAAe,GAAG,UAAU,CAAC;IAC7B,aAAa,EAAE,CAAC;IAEhB,0BAA0B;IAC1B,MAAM,gBAAgB,GAAG,IAAI,2BAAY,EAAE,CAAC;IAC5C,gBAAgB,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,KAAU,EAAE,MAAc;QAC1D,iBAAiB,CAAC,MAAM,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;IACH,UAAU,CAAC,gBAAgB,CAAC,CAAC;AAC9B,CAAC;AAGD,MAAM,QAAQ,GAAG,CAAC,QAAe;IAChC,KAAK,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI;QAClD,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,GAAS;IACzC,QAAQ,CAAC,aAAa,CAAC;AACxB,CAAC,CAAC,CAAC;;;;;;;;;;ACpIU,uBAAe,GAAG,CAAC,CAAS;IACxC,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,EAAE,CAAC;IAC3B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IACnC,MAAM,CAAC,IAAI,CAAC;AACb,CAAC,CAAC;AACW,iBAAS,GAAG,CAAC,IAAY,KAAe,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACxD,oBAAY,GAAG,CAAC,KAAe,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,IAAY,EAAE,KAAa,KAAK,kCAAkC,IAAI,SAAS,CAAC,CAAC;AAG7I,oBAAoB;AACpB,wFAAwF;AACxF,gFAAgF;AAChF,0BAA0B;AAC1B,4CAA4C;AAC5C,qCAAqC;AACrC,KAAK;AACL,mBAAmB;AACnB,IAAI;;;;;;;;;;AC1BJ,uCAAmC;AAEnC,kBAA0B,SAAQ,gBAAQ;IAGzC;QACC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,gBAAgB,GAAG,IAAI,uBAAuB,EAAE,CAAC;QACtD,IAAI,CAAC,gBAAgB,CAAC,UAAU,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,gBAAgB,CAAC,cAAc,GAAG,IAAI,CAAC;QAC5C,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,UAAU,EAAE,CAAC;IACnB,CAAC;IAEO,UAAU;QACjB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,GAAG,CAAC,KAAU;YAC3C,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC5B,CAAC;QACD,IAAI,CAAC,gBAAgB,CAAC,OAAO,GAAG,CAAC,KAAU;YAC1C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;IACF,CAAC;IAEO,aAAa,CAAC,KAAiB;QACtC,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,EAAE,KAAK,CAAC,CAAC;IAC3C,CAAC;IAEO,cAAc,CAAC,KAAU;QAChC,IAAI,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACrD,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,UAAU,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QAC3D,CAAC;IACF,CAAC;IACD,KAAK;QACJ,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;IAC/B,CAAC;IAED,IAAI;QACH,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;IAC9B,CAAC;CACD;AAtCD,oCAsCC;;;;;;;;;;ACvCD;IACI,YAAoB,aAAiB,EAAE;QAAnB,eAAU,GAAV,UAAU,CAAS;IAEvC,CAAC;IACM,EAAE,CAAC,SAAiB,EAAE,MAAgB;QACzC,IAAI,MAAM,GAAY,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAW,KAAK,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC3F,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,KAAK,GAAe,EAAC,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,EAAC;YAC/C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,OAAY,KAAK,OAAO,CAAC,SAAS,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1F,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAEM,GAAG,CAAC,SAAiB,EAAE,MAAgB;QAC1C,IAAI,MAAM,GAAY,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,KAAU,KAAK,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzF,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC;QAC5C,IAAI,KAAK,GAAQ,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,MAAW,KAAK,MAAM,CAAC,SAAS,CAAC,KAAK,SAAS,CAAE,CAAC;QAC3F,IAAI,KAAK,GAAwB,KAAK,CAAC,SAAS,CAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACnE,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;YAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACtD,CAAC;IAEM,OAAO,CAAC,SAAgB,EAAE,GAAG,MAAkB;QAClD,IAAI,QAAQ,GAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,SAAc,KAAK,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC;QACtG,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAC;YAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACxC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAkB,KAAK,QAAQ,CAAC,SAAS,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC;IAC7E,CAAC;CACJ;AA7BD,4BA6BC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 50403c986e8769af1e7d","import {createContainer, wrapWithSpan, splitText } from './utils';\nimport { SpeechToText } from './speechtotext';\n\ndeclare var Levenshtein: any;\ndeclare var webkitSpeechRecognition:any;\ndeclare var $:any;\n\n//TODO:\n// currently if editing is done then added element will taken as one word.\n\nlet startBtn: HTMLButtonElement;\nlet editBtn: HTMLButtonElement;\nlet resultDiv:HTMLButtonElement;\nlet okButton:HTMLButtonElement;\nlet inputParagraphs: string[];\nlet paragraphContainer: HTMLElement;\nlet currentIndex = 0;\nlet isInEditingMode = false;\nlet currentParagraph = 0;\nlet currentContainer: HTMLSpanElement;\nlet startTime: Date;\nlet endTime: Date;\n\nconst showParagraph = () => {\n\tparagraphContainer!.innerHTML = inputParagraphs[currentIndex];\n}\n\n\n// this is impure function.\nconst processTranscript = (transcript: string) => {\n\t// let container = getCurrentContainer(currentParagraph);\n\tresultDiv!.innerHTML = wrapWithSpan(splitText(transcript)).join(\" \");\n};\n\nconst clearResultDiv = () => {\n\tsetTimeout(() => {\n\t\tresultDiv!.innerText = \"\";\n\t}, 500);\n};\n\n\nconst submitResult = (speechRecognizer: SpeechToText) => {\n\t// stop the speech api\n\tspeechRecognizer.stop();\n\tconst orginalText = inputParagraphs[currentIndex];\n\tconst resultText = resultDiv.innerText;\n\tconst l = new Levenshtein(orginalText, resultText);\n\tendTime = new Date();\n\n\tconst totalTime = (endTime.getTime() - startTime.getTime()) / 1000;\n\n\tconsole.log({\n\t\torginalText,\n\t\tresultText,\n\t\tdistance: l.distance,\n\t\ttimetaken: totalTime + 'seconds'\n\t});\n\n\t// reset all\n\tclearResultDiv();\n\tcurrentIndex += 1;\n\tshowParagraph();\n};\n\nconst removeSelected = () => {\n\t$(\".transcribed-text\").removeClass(\"selected\");\n}\nconst removePopovers = () => {\n\t$(\".popover\").popover('destroy');\n}\n\n\n\nconst bindEvents = (speechRecognizer: SpeechToText) => {\n\tstartBtn!.addEventListener('click', (evt: MouseEvent) => {\n\t\tstartTime = new Date()\n\t\tspeechRecognizer.start();\n\t});\n\n\teditBtn!.addEventListener('click', (evt: MouseEvent) => {\n\t\tresultDiv.classList.add('editing-mode');\n\t\tisInEditingMode = true;\n\t\tspeechRecognizer.stop();\n\t});\n\n\tokButton!.addEventListener('click', (evt: MouseEvent) => {\n\t\tresultDiv.classList.remove('editing-mode');\n\t\tsubmitResult(speechRecognizer);\n\t});\n\n\t$('body').popover({\n\t\tselector: '.transcribed-text',\n\t\ttrigger: 'click',\n\t\thtml: true,\n\t\tplacement: 'bottom',\n\t\ttoggle: true,\n\t\tcontent() {\n\t\t\treturn `<div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n\t\t\t<button type=\"button\" class=\"btn btn-success\">Edit</button>\n\t\t\t<button type=\"button\" class=\"btn btn-danger\">Delete</button>\n\t\t  </div>`;\n\t\t}\n\t});\n\n\t$(document).on('mouseenter', '.transcribed-text', (evt: MouseEvent) => {\n\t\tsetTimeout(() => {\n\t\t\tremoveSelected();\n\t\t\tremovePopovers();\n\t\t\t$(evt.currentTarget).addClass('selected');\n\t\t\t$(evt.currentTarget).click();\n\t\t}, 1000);\n\t});\n};\n\nconst initializeApp = (paragraphs: string[]) => {\n\t// setup buttons\n\tstartBtn = <HTMLButtonElement>document.getElementById('btn-start');\n\teditBtn = <HTMLButtonElement>document.getElementById('btn-edit');\n\tresultDiv = <HTMLButtonElement>document.getElementById('result');\n\tokButton = <HTMLButtonElement>document.getElementById('btn-ok');\n\tparagraphContainer = <HTMLElement>document.getElementById('paragraph-container');\n\tinputParagraphs = paragraphs;\n\tshowParagraph();\n\n\t// initializing our object\n\tconst speechRecognizer = new SpeechToText();\n\tspeechRecognizer.on('onresult', (event: any, result: string) => {\n\t\tprocessTranscript(result);\n\t});\n\tbindEvents(speechRecognizer);\n}\n\n\nconst loadJson = (filePath:string) => {\n\tfetch(filePath).then((rep) => rep.json()).then(data => {\n\t\tinitializeApp(data.paragraphs);\n\t});\n};\n\nwindow.addEventListener('load', (evt:Event) => {\n\tloadJson('inputs.json')\n});\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","export interface Eventable {\n\ton(eventType: string, callFn: Function): void\n\toff(eventType: string, callFn: Function): void\n\ttrigger(eventType: Event, ...values: Array<any>): void\n}\nexport interface IEventable {\n\t[eventType: string]: Array<Function>\n}\n\nexport const createContainer = (i: number): HTMLSpanElement => {\n\tlet elem = document.createElement(\"span\");\n\telem.id = `container-${i}`;\n\telem.classList.add(`span-wrapper`);\n\treturn elem;\n};\nexport const splitText = (text: string): string[] => text.split(' ');\nexport const wrapWithSpan = (texts: string[]) => texts.map((elem: string, index: number) => `<span class=\"transcribed-text\">${elem}</span>`);\n\n\n// Don't delete this\n// const getCurrentContainer = (containerId: number, prefix: string = 'container-') => {\n// \tlet element = <HTMLSpanElement>document.getElementById(prefix + containerId)\n// \tif (element == null) {\n// \t\telement = createContainer(containerId);\n// \t\tresultDiv!.appendChild(element);\n// \t}\n// \treturn element;\n// }\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","declare var webkitSpeechRecognition: any;\nimport { ST2Event } from './event';\n\nexport class SpeechToText extends ST2Event {\n\tprivate speechRecognizer: any;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.speechRecognizer = new webkitSpeechRecognition();\n\t\tthis.speechRecognizer.continuous = true;\n\t\tthis.speechRecognizer.interimResults = true;\n\t\tthis.speechRecognizer.lang = 'en-US';\n\t\tthis.bindEvents();\n\t}\n\n\tprivate bindEvents() {\n\t\tthis.speechRecognizer.onresult = (event: any) => {\n\t\t\tthis.handleOnResult(event);\n\t\t}\n\t\tthis.speechRecognizer.onerror = (event: any) => {\n\t\t\tthis.handleOnError(event);\n\t\t}\n\t}\n\n\tprivate handleOnError(event: ErrorEvent) {\n\t\tthis.trigger(new Event('onerror'), event);\n\t}\n\n\tprivate handleOnResult(event: any) {\n\t\tvar result = event.results[event.results.length - 1];\n\t\tif (result[0].confidence > 0.50) {\n\t\t\tthis.trigger(new Event('onresult'), result[0].transcript);\n\t\t}\n\t}\n\tstart() {\n\t\tthis.speechRecognizer.start();\n\t}\n\n\tstop() {\n\t\tthis.speechRecognizer.stop();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/speechtotext.ts","import { Eventable, IEventable } from './utils';\n\nexport class ST2Event implements Eventable {\n    constructor(private _listeners:any = []) {\n\n    }\n    public on(eventType: string, callFn: Function): void {\n        let events:string[] = [].concat(this._listeners.map((evtObj: any) => Object.keys(evtObj)));\n        if (events.indexOf(eventType) == -1) {\n            let event: IEventable = {[eventType]: [callFn]}\n            this._listeners.push(event);\n        } else {\n            let event = this._listeners.filter((evetObj: any) => evetObj[eventType] !== undefined)[0];\n            event[eventType].push(callFn);\n        }\n    }\n\n    public off(eventType: string, callFn: Function): void {\n        let events:string[] = [].concat(this._listeners.map((evObj: any) => Object.keys(evObj)));\n        if (events.indexOf(eventType) == -1) return;\n        let event: any = this._listeners.filter((evtObj: any) => evtObj[eventType] !== undefined );\n        let index: number = (<Array<any>>event[eventType]).indexOf(callFn);\n        if (index >= 0) event[eventType].splice(index, 1);\n    }\n\n    public trigger(eventType: Event, ...values: Array<any>): void {\n        let handlers:any = this._listeners.filter((listeners: any) => listeners[eventType.type] !== undefined)\n        if (handlers.length == 0) return void 0;\n        handlers = handlers[0][eventType.type];\n        handlers.forEach((handeler: Function) => handeler(eventType, ...values));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/event.ts"],"sourceRoot":""}